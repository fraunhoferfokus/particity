YUI.add("aui-toolbar",function(e,t){var n=e.Lang,r=n.isArray,i=n.isString,s=n.isFunction,o="boundingBox",u="btn",a="button",f="checkbox",l="children",c="click",h="createDocumentFragment",p="enclosingWidgetInitialized",d="focus",v="group",m="id",g="mousemove",y="normal",b="radio",w="title",E="toolbar",S="toolbarRenderer",x="vertical",T=".",N=" ",C=e.getClassName,k=C(u),L=C(u,v),A=C(u,v,f),O=C(u,v,b),M=C(u,v,x);e.Toolbar=e.Component.create({NAME:E,ATTRS:{children:{validator:r},toolbarRenderer:{valueFn:function(){return new e.ToolbarRenderer}}},UI_ATTRS:[l],isSupportedWidget:function(t){return e.instanceOf(t,e.Button)||e.instanceOf(t,e.ToggleButton)||e.instanceOf(t,e.ButtonGroup)},prototype:{CONTENT_TEMPLATE:null,TEMPLATES:{button:'<button class="aui-btn">{content}</button>',icon:'<i class="{cssClass}"></i>',group:'<div class="aui-btn-group {cssClass}"></div>'},bindUI:function(){var e=this,t=e.get(o);t.delegate([c,g,d],e._onUserInitInteraction,T+k,e)},add:function(t,n){var r=this,i=r.get(o),s=r.get(S);i.insert(s.render(e.Array(t)),n)},clear:function(){var e=this,t=e.get(o);t.get(l).remove()},getEnclosingWidget:function(t){return e.instanceOf(t,e.EventFacade)&&(t=t.domEvent?t.domEvent.target:t.target),e.Widget.getByNode(t)},item:function(t){var n=this,r=n.get(o).get(l).item(t),i;return n._initEnclosingWidgetIfNeeded(r),i=n.getEnclosingWidget(r),e.Toolbar.isSupportedWidget(i)?i:r},remove:function(e){var t=this,n=t.get(o);return n.get(l).item(e).remove()},_onUserInitInteraction:function(e){var t=this,n=e.currentTarget;t._initEnclosingWidgetIfNeeded(n)},_initEnclosingWidgetIfNeeded:function(t){if(!t||t.getData(p))return;t.setData(p,!0);var n=e.Widget.getByNode(t),r=e.instanceOf(n,e.Button)||e.instanceOf(n,e.ToggleButton),i=e.instanceOf(n,e.ButtonGroup);if(r||i)return;var s=t.ancestor(T+k,!0);s&&(e.Button.hasWidgetLazyConstructorData(t)?(new e.Button(e.Button.getWidgetLazyConstructorFromNodeData(t)),e.Button.setWidgetLazyConstructorNodeData(t,null)):t.plug(e.Plugin.Button));var o=t.ancestor(T+L,!0);if(o){var u;o.hasClass(A)?u=f:o.hasClass(O)&&(u=b),u&&new e.ButtonGroup({boundingBox:o,type:u,render:!0})}},_uiSetChildren:function(e){var t=this;if(!e)return;t.clear(),t.add(e)}}});var _=function(){};_.prototype={TEMPLATES:{button:e.Button.prototype.TEMPLATE,group:'<div class="'+L+' {cssClass}"></div>',icon:'<i class="{cssClass}" />'},RENDERER:{button:function(t){var r=this,i=t.value,s=i.domType||a,u,f;if(e.instanceOf(i,e.Button)||e.instanceOf(i,e.ToggleButton))return i.get(o);f=e.one(i.boundingBox||i.srcNode);if(f)try{f.setAttribute("type",s)}catch(l){}else f=e.Node.create(e.ButtonExt.getTypedButtonTemplate(r.TEMPLATES.button,s));u=[k,i.cssClass],i.primary&&u.push(e.ButtonCore.CLASS_NAMES.PRIMARY),f.addClass(u.join(N)),i.id&&f.setAttribute(m,i.id),i.label&&f.append(i.label);if(i.icon){var c=n.sub(r.TEMPLATES.icon,{cssClass:i.icon});e.Button.syncIconUI(f,c,i.iconAlign)}return i.title&&f.setAttribute(w,i.title),e.Button.setWidgetLazyConstructorNodeData(f,i),f},group:function(t){var r=this,i=t.value,s=t.groupType,u=t.orientation,a=[];if(e.instanceOf(i,e.ButtonGroup))return i.get(o);s===f?a.push(A):s===b&&a.push(O),u===x&&a.push(M);var l=e.Node.create(n.sub(r.TEMPLATES.group,{cssClass:a.join(N)}));return e.Array.each(i,function(t,n){var s=r.renderNode(t);l.appendChild(s),e.Toolbar.isSupportedWidget(t)||e.Button.setWidgetLazyConstructorNodeData(s,i[n])}),l}},render:function(t){var n=this;if(!t)return;var r=e.one(e.config.doc).invoke(h);return e.Array.each(t,function(e){r.appendChild(n.renderNode(e))}),r},renderNode:function(t){var n=this,r,i;if(e.Toolbar.isSupportedWidget(t))return t.render().get(o);r=n._getChildRenderHints(t),i=n.RENDERER[r.renderer];if(s(i))return i.call(n,r)},_getChildRenderHints:function(t){var n=null,s=y,o;return e.instanceOf(t,e.Button)?o=a:e.instanceOf(t,e.ButtonGroup)?o=v:r(t)?(o=v,n=i(t[0])?t.shift():null,s=i(t[0])?t.shift():y):o=a,{groupType:n,orientation:s,renderer:o,value:t}}},e.ToolbarRenderer=_},"2.0.0",{requires:["arraylist","arraylist-add","aui-component","aui-button-core"]});
