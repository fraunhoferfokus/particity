YUI.add("aui-datepicker-select-deprecated",function(e,t){var n=e.Lang,r=n.isArray,i=n.isString,s=n.isBoolean,o=n.isValue,u=n.isNumber,a=n.isDate,f=n.toInt,l=e.DataType,c=l.DateMath,h=function(t){return e.one(t)},p=function(){return e.Node.create(wt)},d=e.config.doc,v="appendOrder",m="",g="body",y="boundingBox",b="button",w="buttonNode",E="buttonitem",S="calendar",x="change",T="clearfix",N="content",C="contentBox",k="data-auiComponentID",L="datepicker",A="day",O="dayNode",M="dayNodeName",_="disabled",D="display",P=".",H="helper",B="keypress",j="locale",F="maxDate",I="minDate",q="month",R="monthNode",U="monthNodeName",t="name",z="nullableDay",W="nullableMonth",X="nullableYear",V="option",$="populateDay",J="populateMonth",K="populateYear",Q="select",G="selectionMode",Y="selectWrapperNode",Z="selected",et="selectedDates",tt=" ",nt="srcNode",rt="trigger",it="wrapper",st="year",ot="yearNode",ut="yearNodeName",at="yearRange",ft=e.getClassName,lt=ft(E),ct=ft(L),ht=ft(L,b,it),pt=ft(L,A),dt=ft(L,D),vt=ft(L,D,N),mt=ft(L,q),gt=ft(L,Q,it),yt=ft(L,st),bt=ft(H,T),wt="<select></select>",Et="<option></option>",St='<div class="'+ht+'"></div>',xt="<div class="+gt+"></div>",Tt=e.Component.create({NAME:L,ATTRS:{appendOrder:{validator:r,value:["m","d","y"]},buttonNode:{},calendar:{setter:"_setCalendar"},dayNode:{setter:h,valueFn:p},dayNodeName:{valueFn:function(){return this.get(O).get(t)||A}},locale:{validator:"isString",value:"en"},monthNode:{setter:h,valueFn:p},monthNodeName:{valueFn:function(){return this.get(R).get(t)||q}},nullableDay:{value:!1},nullableMonth:{value:!1},nullableYear:{value:!1},populateDay:{value:!0},populateMonth:{value:!0},populateYear:{value:!0},selectWrapperNode:{valueFn:function(){return e.Node.create(xt)}},trigger:{setter:function(t){return t instanceof e.NodeList?t:n.isString(t)?e.all(t):new e.NodeList(t)},valueFn:function(){return e.NodeList.create(St)}},yearNode:{setter:h,valueFn:p},yearNodeName:{valueFn:function(){return this.get(ot).get(t)||st}},yearRange:{validator:r,valueFn:function(){var e=(new Date).getFullYear();return[e-10,e+10]}}},HTML_PARSER:{buttonNode:P+lt,dayNode:P+pt,monthNode:P+mt,selectWrapperNode:P+gt,trigger:P+ht,yearNode:P+yt},EXTENDS:e.Component,prototype:{bindUI:function(){var e=this;e._bindSelectEvents(),e.after("calendar:selectionChange",e._afterSelectionChange)},destructor:function(){var e=this;e.datePicker.destroy()},renderUI:function(){var e=this;e._renderElements(),e._renderTriggerButton(),e._renderCalendar()},syncUI:function(){var e=this;e._populateSelects(),e._syncSelectsUI()},getCurrentDate:function(e,t,n){var r=this,i=r._normalizeYearMonth(),s=i.day+f(n),o=i.month+f(t),u=i.year+f(e),a=r.getDaysInMonth(i.year,o);return s>a&&(s=a),c.getDate(u,o,s)},_afterSelectionChange:function(e){var t=this,n=e.newSelection;n.length&&t._syncSelectsUI(n[n.length-1])},_bindSelectEvents:function(){var e=this,t=e.get(Y).all(Q);t.on(x,e._onSelectChange,e),t.on(B,e._onSelectChange,e)},_getAppendOrder:function(){var e=this,t=e.get(v),n=e.get("id"),r={d:e.get(O),m:e.get(R),y:e.get(ot)},i=r[t[0]],s=r[t[1]],o=r[t[2]];return i.setAttribute(k,n),s.setAttribute(k,n),o.setAttribute(k,n),[i,s,o]},_getDaysInMonth:function(e,t){var n=this,r=n._normalizeYearMonth(e,t);return c.getDaysInMonth(r.year,r.month)},_getLocaleMap:function(){var e=this;return l.Date.Locale[e.get(j)]},_normalizeYearMonth:function(e,t,n){var r=this,i=r.calendar.get(et),s=i.length?i[0]:new Date;return o(n)||(n=s.getDate()),o(t)||(t=s.getMonth()),o(e)||(e=s.getFullYear()),{year:e,month:t,day:n}},_onSelectChange:function(e){var t=this,n=e.currentTarget||e.target,r=n.test(P+mt),i=t.get(O).val(),s=t.get(R).val(),o=t.get(ot).val(),u=i>-1,a=s>-1,f=o>-1;if(a&&f){var l=t._getDaysInMonth(o,s);i>l&&(i=l)}var c=new Date(o,s,i);!u||!a||!f?t.calendar._clearSelection():t.calendar.set(et,c),r&&(t._uiSetCurrentMonth(),u&&t._selectCurrentDay(c))},_populateDays:function(){var e=this;e.get($)&&e._populateSelect(e.get(O),1,e._getDaysInMonth(),null,null,e.get(z))},_populateMonths:function(){var e=this,t=e._getLocaleMap(),n=t.B;e.get(J)&&e._populateSelect(e.get(R),0,n.length-1,n,null,e.get(W))},_populateSelect:function(t,n,r,i,s,o){var u=0,a=n,f=e.Node.getDOMNode(t);t.empty(),i=i||[],s=s||[],o&&(f.options[0]=new Option(m,-1),u++);while(a<=r){var l=s[a]||a,c=i[a]||a;f.options[u]=new Option(c,a),u++,a++}},_populateSelects:function(){var e=this;e._populateDays(),e._populateMonths(),e._populateYears();var t=e.get(R).all(V),n=e.get(ot).all(V),r=t.size()-1,i=n.size()-1,s=t.item(0).val(),o=n.item(0).val(),u=t.item(r).val(),a=n.item(i).val(),f=e._getDaysInMonth(a,u),l=new Date(o,s,1),c=new Date(a,u,f);e.calendar.set(F,c),e.calendar.set(I,l)},_populateYears:function(){var e=this,t=e.get(at);e.get(K)&&e._populateSelect(e.get(ot),t[0],t[1],null,null,e.get(X))},_renderCalendar:function(){var t=this,n={calendar:t.get(S),trigger:t.get(rt).item(0)},r=(new e.DatePicker(n)).render();r.addTarget(t),t.datePicker=r,t.calendar=r.calendar},_renderElements:function(){var n=this,r=n.get(y),i=n.get(C),s=n.get(O),o=n.get(R),u=n.get(ot);s.addClass(pt),o.addClass(mt),u.addClass(yt),r.addClass(dt),r.addClass(bt),i.addClass(vt),o.set(t,n.get(U)),u.set(t,n.get(ut)),s.set(t,n.get(M));if(!o.inDoc(e.config.doc)){var a=n.get(Y),f=n._getAppendOrder(),l=e.one(d.createTextNode(tt));a.append(f[0]),a.append(l.clone()),a.append(f[1]),a.append(l),a.append(f[2]),i.append(a)}},_renderTriggerButton:function(){var t=this,n=t.get(rt).item(0);t._buttonItem=new e.ButtonItem({boundingBox:t.get(w),icon:S}),t.get(C).append(n),n.setAttribute(k,t.get("id")),n.test(P+ht)&&t._buttonItem.render(n)},_selectCurrentDay:function(e){var t=this;t.get(O).val(String(e.getDate()))},_selectCurrentMonth:function(e){var t=this;t.get(R).val(String(e.getMonth())),t._uiSetCurrentMonth()},_selectCurrentYear:function(e){var t=this;t.get(ot).val(String(e.getFullYear()))},_setCalendar:function(t){var n=this;return e.merge({selectedDates:new Date},t||{})},_syncSelectsUI:function(e){var t=this,n=t.calendar.get(
et);e=e||(n.length?n[0]:new Date),t._selectCurrentMonth(e),t._selectCurrentDay(e),t._selectCurrentYear(e)},_uiSetCurrentMonth:function(e){var t=this;t._populateDays()},_uiSetDisabled:function(e){var t=this;Tt.superclass._uiSetDisabled.apply(t,arguments),t.get(O).set("disabled",e),t.get(R).set("disabled",e),t.get(ot).set("disabled",e),t.datePicker.set(_,e),t._buttonItem.set(_,e),t._buttonItem.StateInteraction.set(_,e)}}});e.DatePickerSelect=Tt},"2.0.0",{requires:["aui-datepicker-base-deprecated","aui-button-item-deprecated"],skinnable:!0});
